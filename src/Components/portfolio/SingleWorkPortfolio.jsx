import React, { useState } from 'react';
import { Link, useParams } from 'react-router-dom';
import { data } from '../Works/works';
import { motion } from 'framer-motion';
import FirstPartOfPortfolio from './FirstPartOfPortfolio';
import SecondPartOfPortfolio from './SecondPartOfPortfolio';
import ThirdPartOfPortfolio from './ThirdPartOfPortfolio';

const SingleWorkPortfolio = () => {
    const [currentIndex, setCurrentIndex] = useState(0);
    const [soundStates, setSoundStates] = useState({});
    const { workID } = useParams();
    const work = data?.find((ad) => ad.id == workID);

    if (!work) {
        return (
            <div className="font-custom text-2xl mt-5 justify-center items-center text-center">
                WORK NOT FOUND. BAD REQUEST!
            </div>
        );
    }

    const { title, cover, first, second, third, fourth, secondDescription, fifth, sixth, seventh, eight, nine, ten, titleColor, specific, specificImage, secondSpecificImage } = work;

    const toggleSound = (index) => {
        setSoundStates((prev) => ({
            ...prev,
            [index]: !prev[index],
        }));
    };

    const handleClick = () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    };

    return (
        <div className="py-6 overflow-x-hidden">
            <motion.div
                className="flex justify-center items-center pb-6"
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                transition={{ delay: 0.5 }}
            >
                <Link to="/" onClick={handleClick}>

                    <svg width="124" height="39" viewBox="0 0 124 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M43.6766 21.5655C43.6276 21.7928 43.3991 22.7833 42.9503 23.9443C41.31 28.1823 38.4619 30.6829 37.3276 31.6571C35.2548 33.427 33.133 34.5555 31.3295 35.27C30.3095 34.044 29.6076 32.8912 29.1343 31.9819C28.3835 30.5611 28 29.3757 27.8449 28.8724C27.4777 27.6789 27.3145 26.6803 27.2329 26.0876C26.8901 23.514 27.2084 21.4356 27.4043 20.4289C27.6083 19.4221 27.9673 18.0663 28.6692 16.5562C28.6855 17.1732 28.7344 18.0176 28.8977 19.0081C29.0282 19.7794 29.4281 21.8902 30.693 24.3259C31.6886 26.25 32.8637 27.6789 33.8185 28.6775C34.4387 28.1173 35.2222 27.3379 35.9974 26.2825C36.4055 25.7304 37.1481 24.7074 37.7601 23.2217C38.6333 21.0865 38.7067 19.2516 38.7231 18.7401C38.7884 15.8905 37.8172 13.7958 37.3929 12.9109C36.2749 10.5645 34.7244 9.06257 33.7532 8.25069C32.0558 9.39544 28.8242 11.9366 26.8167 16.2314C25.462 19.138 25.2009 21.7035 25.1519 22.2962C24.9724 24.3583 25.2091 25.9659 25.2988 26.4692C25.4702 27.5247 25.715 28.3284 25.8701 28.8318C26.4658 30.7803 27.2084 32.128 27.4287 32.5096C27.543 32.7126 27.9184 33.3702 28.4896 34.1658C28.9629 34.8397 29.4281 35.3918 29.828 35.8383C28.5141 36.2361 27.086 36.7395 25.5844 37.3565C24.3848 37.8517 23.275 38.3713 22.2549 38.8909C21.243 38.3713 20.125 37.8517 18.9254 37.3565C17.4238 36.7395 16.0038 36.2361 14.6818 35.8383C15.0735 35.3918 15.5387 34.8397 16.0202 34.1658C16.5914 33.3621 16.9668 32.7126 17.0811 32.5096C17.3014 32.128 18.0358 30.7803 18.6397 28.8318C18.7948 28.3284 19.0314 27.5328 19.211 26.4692C19.3007 25.9659 19.5374 24.3502 19.3579 22.2962C19.3007 21.7116 19.0478 19.1461 17.6931 16.2314C15.6937 11.9366 12.454 9.40356 10.7566 8.25069C9.78544 9.05445 8.23492 10.5645 7.11691 12.9109C6.69256 13.7958 5.72144 15.8905 5.78673 18.7401C5.79489 19.2598 5.8765 21.0865 6.74968 23.2217C7.35357 24.7074 8.09619 25.7304 8.51238 26.2825C9.28764 27.3298 10.0711 28.1173 10.6913 28.6775C11.6461 27.6789 12.8212 26.25 13.8168 24.3259C15.0817 21.8821 15.4816 19.7794 15.6121 19.0081C15.7754 18.0176 15.8325 17.1732 15.8406 16.5562C16.5425 18.0663 16.9015 19.4221 17.1055 20.4289C17.3096 21.4356 17.6197 23.5221 17.2769 26.0876C17.1953 26.6884 17.0321 27.6789 16.6649 28.8724C16.5098 29.3757 16.1263 30.5611 15.3755 31.9819C14.9022 32.8912 14.2003 34.044 13.1803 35.27C11.3768 34.5474 9.24684 33.427 7.1822 31.6571C6.04787 30.6829 3.19981 28.1904 1.55952 23.9443C1.11068 22.7833 0.882184 21.7928 0.83322 21.5655C0.661847 20.8023 0.335421 19.0893 0.482313 16.8891C0.531277 16.1827 0.661847 14.8188 1.15149 13.1869C2.29397 9.35485 4.50551 6.9111 5.40318 5.95308C7.02715 4.19943 8.58583 3.16834 9.42637 2.61627C11.0503 1.56082 12.5601 0.86261 13.727 0.407959C14.7798 0.813898 16.0283 1.40657 17.3259 2.2834C19.7904 3.94774 21.3491 5.90437 22.2549 7.26832C22.2549 7.26832 22.2549 7.2602 22.2631 7.25209C22.2631 7.25209 22.2631 7.2602 22.2712 7.26832C23.1771 5.89625 24.7357 3.94774 27.2002 2.2834C28.4978 1.40657 29.7464 0.805779 30.7991 0.407959C31.9742 0.86261 33.4758 1.56082 35.0997 2.61627C35.9485 3.16834 37.499 4.19943 39.1229 5.95308C40.0125 6.9111 42.2321 9.35485 43.3746 13.1869C43.8561 14.8188 43.9948 16.1746 44.0438 16.8891C44.1907 19.0893 43.8643 20.8023 43.6929 21.5655H43.6766Z" fill="#FCF5F2" />
                        <path d="M54.2042 17.5143C53.2575 17.0109 52.5312 16.2883 52.0171 15.3465C51.503 14.4048 51.25 13.3087 51.25 12.0503C51.25 10.7919 51.503 9.704 52.0171 8.77034C52.5312 7.83668 53.2575 7.13847 54.196 6.65134C55.1345 6.16422 56.2198 5.92065 57.4602 5.92065C58.5864 5.92065 59.5902 6.12362 60.4634 6.52144C61.3365 6.91926 62.071 7.47946 62.6749 8.19391L61.0509 9.52539C60.6674 8.99767 60.1696 8.58361 59.5657 8.26698C58.9618 7.95847 58.2681 7.80421 57.4929 7.80421C56.7176 7.80421 55.9832 7.9747 55.363 8.31569C54.7428 8.65668 54.2613 9.15193 53.9267 9.79331C53.5839 10.4347 53.4207 11.1897 53.4207 12.0503C53.4207 12.9109 53.5921 13.6741 53.9348 14.3317C54.2776 14.9893 54.7591 15.4927 55.3711 15.8499C55.9832 16.2071 56.6931 16.3776 57.4929 16.3776C58.2926 16.3776 58.9618 16.2234 59.5657 15.923C60.1696 15.6226 60.6592 15.2004 61.0509 14.6727L62.6749 16.0042C61.4182 17.5061 59.6799 18.2612 57.4602 18.2612C56.228 18.2612 55.1426 18.0095 54.2042 17.5061V17.5143Z" fill="#FCF5F2" />
                        <path d="M65.9639 17.6523C65.2866 17.2626 64.7643 16.7105 64.3889 15.9879C64.0135 15.2654 63.834 14.421 63.834 13.4549C63.834 12.4887 64.0135 11.6444 64.3807 10.9299C64.748 10.2155 65.2703 9.65528 65.9394 9.2737C66.6086 8.884 67.3839 8.68915 68.2489 8.68915C68.7875 8.68915 69.3261 8.77845 69.8647 8.94895C70.4033 9.11944 70.8521 9.39548 71.2112 9.76895V8.89212H73.2106V18.0582H71.2438V17.1002C70.8848 17.5143 70.4441 17.8065 69.93 17.9851C69.4159 18.1556 68.8854 18.2449 68.3305 18.2449C67.4247 18.2449 66.6331 18.0501 65.9557 17.6604L65.9639 17.6523ZM70.183 16.1259C70.6318 15.8986 70.9909 15.5657 71.252 15.1192V11.7662C70.9827 11.3521 70.6073 11.0274 70.134 10.8C69.6607 10.5727 69.171 10.4509 68.6651 10.4509C67.8409 10.4509 67.1798 10.7188 66.6739 11.2466C66.1679 11.7743 65.9231 12.505 65.9231 13.4386C65.9231 14.3723 66.1761 15.1192 66.682 15.6632C67.188 16.199 67.8735 16.4751 68.7304 16.4751C69.2526 16.4751 69.7341 16.3614 70.183 16.1422V16.1259Z" fill="#FCF5F2" />
                        <path d="M75.5121 8.88406H77.4951V9.76089C77.8705 9.38742 78.3193 9.1195 78.8579 8.94089C79.3965 8.7704 79.9351 8.68109 80.4737 8.68109C81.3388 8.68109 82.1059 8.87594 82.775 9.26564C83.4442 9.65534 83.9583 10.2074 84.3256 10.9219C84.6928 11.6444 84.8723 12.4807 84.8723 13.4468C84.8723 14.4129 84.6928 15.2573 84.3256 15.9799C83.9583 16.7024 83.4361 17.2626 82.7506 17.6442C82.0651 18.0339 81.2735 18.2288 80.3676 18.2288C79.829 18.2288 79.2986 18.1395 78.7926 17.969C78.2867 17.7985 77.846 17.4981 77.4869 17.084V21.0054H75.5039V8.88406H75.5121ZM82.0487 15.647C82.5547 15.103 82.8077 14.3642 82.8077 13.4306C82.8077 12.4969 82.5547 11.7825 82.0487 11.2466C81.5428 10.7108 80.8736 10.4429 80.0494 10.4429C79.5516 10.4429 79.0701 10.5565 78.5968 10.792C78.1235 11.0193 77.7481 11.344 77.4625 11.7581V15.1112C77.7236 15.5739 78.0827 15.9149 78.5397 16.1341C78.9967 16.3533 79.4863 16.4589 80.0004 16.4589C80.8573 16.4589 81.5428 16.1828 82.0487 15.6389V15.647Z" fill="#FCF5F2" />
                        <path d="M86.7318 8.88406H88.6822V10.1506C89.0005 9.70406 89.4003 9.34683 89.8981 9.07891C90.3959 8.81099 90.959 8.68109 91.5874 8.68109C91.9138 8.68109 92.1749 8.72168 92.3626 8.80287V10.9219C91.9546 10.7757 91.5629 10.7027 91.1793 10.7027C90.4694 10.7027 89.8818 10.9625 89.4166 11.4658C88.9515 11.9773 88.723 12.6999 88.723 13.6335V18.0502H86.7236V8.88406H86.7318Z" fill="#FCF5F2" />
                        <path d="M95.5704 17.6523C94.893 17.2626 94.3707 16.7105 93.9954 15.9879C93.62 15.2654 93.4404 14.421 93.4404 13.4549C93.4404 12.4887 93.62 11.6444 93.9872 10.9299C94.3544 10.2155 94.8767 9.65528 95.5459 9.2737C96.215 8.884 96.9903 8.68915 97.8553 8.68915C98.3939 8.68915 98.9325 8.77845 99.4711 8.94895C100.01 9.11944 100.459 9.39548 100.818 9.76895V8.89212H102.817V18.0582H100.85V17.1002C100.491 17.5143 100.051 17.8065 99.5364 17.9851C99.0223 18.1556 98.4919 18.2449 97.9369 18.2449C97.0311 18.2449 96.2477 18.0501 95.5704 17.6604V17.6523ZM99.7894 16.1259C100.238 15.8986 100.597 15.5657 100.858 15.1192V11.7662C100.589 11.3521 100.214 11.0274 99.7404 10.8C99.2671 10.5727 98.7775 10.4509 98.2715 10.4509C97.4473 10.4509 96.7863 10.7188 96.2803 11.2466C95.7744 11.7743 95.5296 12.505 95.5296 13.4386C95.5296 14.3723 95.7825 15.1192 96.2885 15.6632C96.7945 16.199 97.4799 16.4751 98.3368 16.4751C98.8591 16.4751 99.3406 16.3614 99.7894 16.1422V16.1259Z" fill="#FCF5F2" />
                        <path d="M54.2042 32.6234C53.2575 32.12 52.5312 31.3975 52.0171 30.4557C51.503 29.5139 51.25 28.4179 51.25 27.1595C51.25 25.901 51.503 24.8131 52.0171 23.8795C52.5312 22.9458 53.2575 22.2476 54.196 21.7605C55.1345 21.2733 56.2198 21.0298 57.4602 21.0298C58.5864 21.0298 59.5902 21.2328 60.4634 21.6306C61.3365 22.0284 62.071 22.5886 62.6749 23.303L61.0509 24.6345C60.6674 24.1068 60.1696 23.6927 59.5657 23.3761C58.9618 23.0676 58.2681 22.9133 57.4929 22.9133C56.7176 22.9133 55.9832 23.0838 55.363 23.4248C54.7428 23.7658 54.2613 24.2611 53.9267 24.9024C53.5839 25.5438 53.4207 26.2989 53.4207 27.1595C53.4207 28.02 53.5921 28.7832 53.9348 29.4408C54.2776 30.0985 54.7591 30.6018 55.3711 30.959C55.9832 31.3163 56.6931 31.4868 57.4929 31.4868C58.2926 31.4868 58.9618 31.3325 59.5657 31.0321C60.1696 30.7317 60.6592 30.3095 61.0509 29.7818L62.6749 31.1133C61.4182 32.6153 59.6799 33.3703 57.4602 33.3703C56.228 33.3703 55.1426 33.1186 54.2042 32.6153V32.6234Z" fill="#FCF5F2" />
                        <path d="M64.3558 24.0011H66.3062V25.2677C66.6245 24.8211 67.0243 24.4639 67.5221 24.196C68.0199 23.9281 68.583 23.7982 69.2114 23.7982C69.5378 23.7982 69.799 23.8388 69.9867 23.9199V26.0389C69.5786 25.8928 69.1869 25.8197 68.8034 25.8197C68.0934 25.8197 67.5058 26.0795 67.0407 26.5829C66.5755 27.0944 66.347 27.817 66.347 28.7506V33.1672H64.3477V24.0011H64.3558Z" fill="#FCF5F2" />
                        <path d="M80.5383 29.1729H73.104C73.2264 29.9604 73.5528 30.5693 74.0669 31.0078C74.5892 31.4462 75.2584 31.6654 76.0826 31.6654C76.6702 31.6654 77.2088 31.5598 77.6903 31.3487C78.1717 31.1377 78.5798 30.821 78.9062 30.407L80.2119 31.4868C79.2898 32.7289 77.8616 33.3541 75.9439 33.3541C74.9401 33.3541 74.0669 33.1592 73.3406 32.7614C72.6062 32.3717 72.0431 31.8115 71.6514 31.0889C71.2597 30.3664 71.0557 29.522 71.0557 28.5559C71.0557 27.5897 71.2597 26.7616 71.6595 26.0391C72.0594 25.3165 72.6225 24.7563 73.3406 24.3666C74.0588 23.9769 74.883 23.7739 75.8133 23.7739C77.3475 23.7739 78.5227 24.2123 79.3387 25.0973C80.1548 25.9822 80.5546 27.1513 80.5546 28.6127C80.5546 28.8806 80.5547 29.0755 80.5383 29.1891V29.1729ZM74.0506 26.0147C73.5691 26.4044 73.2509 26.9565 73.1203 27.6709H78.539C78.4737 27.0052 78.2125 26.4694 77.7474 26.0553C77.2904 25.6412 76.6457 25.4302 75.8052 25.4302C75.1197 25.4302 74.5321 25.625 74.0425 26.0147H74.0506Z" fill="#FCF5F2" />
                        <path d="M83.8028 32.7695C83.1254 32.3798 82.6032 31.8277 82.2278 31.1052C81.8524 30.3826 81.6729 29.5383 81.6729 28.5721C81.6729 27.606 81.8524 26.7616 82.2196 26.0472C82.5868 25.3327 83.1091 24.7725 83.7783 24.3909C84.4475 24.0012 85.2227 23.8064 86.0878 23.8064C86.6264 23.8064 87.165 23.8957 87.7036 24.0662C88.2422 24.2367 88.691 24.5127 89.0501 24.8862V24.0094H91.0494V33.1755H89.0827V32.2174C88.7236 32.6315 88.283 32.9238 87.7688 33.1024C87.2547 33.2729 86.7243 33.3622 86.1694 33.3622C85.2635 33.3622 84.4801 33.1673 83.8028 32.7776V32.7695ZM88.0218 31.2432C88.4707 31.0159 88.8297 30.683 89.0909 30.2365V26.8834C88.8216 26.4694 88.4462 26.1446 87.9729 25.9173C87.4995 25.69 87.0099 25.5682 86.5039 25.5682C85.6797 25.5682 85.0187 25.8361 84.5128 26.3638C84.0068 26.8915 83.762 27.6222 83.762 28.5559C83.762 29.4895 84.015 30.2365 84.5209 30.7804C85.0269 31.3163 85.7124 31.5923 86.5692 31.5923C87.0915 31.5923 87.573 31.4786 88.0218 31.2594V31.2432Z" fill="#FCF5F2" />
                        <path d="M94.3709 32.6233C93.9302 32.128 93.7099 31.3568 93.7099 30.3013V25.7548H92.3389V24.0012H93.7099V20.4127H95.6929V24.0012H98.6062V25.7548H95.6929V30.0172C95.6929 30.6098 95.7827 31.0401 95.9703 31.2918C96.158 31.5435 96.509 31.6734 97.0312 31.6734C97.5862 31.6734 98.1003 31.576 98.5899 31.3892V33.1267C98.084 33.2972 97.3985 33.3783 96.5416 33.3783C95.5378 33.3783 94.8115 33.1348 94.3709 32.6395V32.6233Z" fill="#FCF5F2" />
                        <path d="M100.239 22.4424C99.986 22.1907 99.8555 21.8904 99.8555 21.5412C99.8555 21.1921 99.986 20.8917 100.239 20.6482C100.492 20.4046 100.802 20.2747 101.161 20.2747C101.52 20.2747 101.83 20.3965 102.075 20.6482C102.32 20.8917 102.451 21.1921 102.451 21.5412C102.451 21.8904 102.32 22.1907 102.067 22.4424C101.814 22.6941 101.512 22.824 101.161 22.824C100.81 22.824 100.492 22.6941 100.239 22.4424ZM100.133 24.0012H102.165V33.1673H100.133V24.0012Z" fill="#FCF5F2" />
                        <path d="M113.295 24.0013L108.945 33.2486H107.778L103.429 24.0013H105.714L107.46 28.0769L108.374 30.3826L109.321 28.1094L111.1 24.0013H113.303H113.295Z" fill="#FCF5F2" />
                        <path d="M123.537 29.1729H116.103C116.225 29.9604 116.552 30.5693 117.066 31.0078C117.588 31.4462 118.257 31.6654 119.082 31.6654C119.669 31.6654 120.208 31.5598 120.689 31.3487C121.171 31.1377 121.579 30.821 121.905 30.407L123.211 31.4868C122.289 32.7289 120.861 33.3541 118.943 33.3541C117.939 33.3541 117.066 33.1592 116.34 32.7614C115.605 32.3717 115.042 31.8115 114.65 31.0889C114.259 30.3664 114.055 29.522 114.055 28.5559C114.055 27.5897 114.259 26.7616 114.659 26.0391C115.058 25.3165 115.622 24.7563 116.34 24.3666C117.058 23.9769 117.882 23.7739 118.812 23.7739C120.347 23.7739 121.522 24.2123 122.338 25.0973C123.154 25.9822 123.554 27.1513 123.554 28.6127C123.554 28.8806 123.554 29.0755 123.537 29.1891V29.1729ZM117.05 26.0147C116.568 26.4044 116.258 26.9565 116.119 27.6709H121.538C121.473 27.0052 121.212 26.4694 120.755 26.0553C120.298 25.6412 119.653 25.4302 118.812 25.4302C118.127 25.4302 117.539 25.625 117.05 26.0147Z" fill="#FCF5F2" />
                    </svg>
                </Link>
            </motion.div>

            {/* Title with Image as Background */}
            <div className="relative w-full h-[45ch] lg:h-[80ch] xl:h-[85ch] 2xl:h-[98ch] flex justify-center items-center px-3 lg:px-[25px]">
                {/* Image as a regular element (not absolute) */}
                <img
                    src={cover}
                    alt={title}
                    className="rounded-[10px] w-full h-full object-cover"
                />

                {/* Title with absolute positioning */}
                <motion.div
                    className="absolute top-1/2 left-8 lg:left-16 -translate-y-1/2 text-7xl lg:text-[250px] 2xl:text-[250px] w-full leading-[110px] lg:leading-[203px] font-custom1 uppercase"
                    initial="hidden"
                    animate="visible"
                    style={{ color: titleColor }}
                >
                    <div className="block">{title}</div>
                </motion.div>
            </div>


            {/* First, Second, and Third Parts of Portfolio */}
            <FirstPartOfPortfolio
                first={[first, second]} // Wrap first in an array if it's a single image or video
                soundStates={soundStates}
                toggleSound={toggleSound}
                workID={workID}
            />

            <SecondPartOfPortfolio
                second={[third, fourth, fifth, sixth, seventh, eight]} // Wrap first in an array if it's a single image or video
                soundStates={soundStates}
                toggleSound={toggleSound}
                workID={workID}
            />

            <ThirdPartOfPortfolio
                third={[nine, ten]} // Wrap first in an array if it's a single image or video
                soundStates={soundStates}
                toggleSound={toggleSound}
                workID={workID}
            />
        </div>
    );
}

export default SingleWorkPortfolio;
